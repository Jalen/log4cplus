INCLUDe(CheckIncludeFiles)
INCLUDE(CheckFunctionExists)
INCLUDE(CheckLibraryExists)

CHECK_INCLUDE_FILES(syslog.h LOG4CPLUS_HAVE_SYSLOG_H)
CHECK_INCLUDE_FILES(netinet/in.h LOG4CPLUS_HAVE_NETINET_IN_H)
CHECK_INCLUDE_FILES(sys/types.h LOG4CPLUS_HAVE_SYS_TYPES_H)
CHECK_INCLUDE_FILES(sys/socket.h LOG4CPLUS_HAVE_SYS_SOCKET_H)
CHECK_INCLUDE_FILES(sys/stat.h LOG4CPLUS_HAVE_SYS_STAT_H)
CHECK_INCLUDE_FILES(sys/timeb.h LOG4CPLUS_HAVE_SYS_TIMEB_H)
CHECK_INCLUDE_FILES(sys/time.h LOG4CPLUS_HAVE_SYS_TIME_H)
CHECK_INCLUDE_FILES(time.h LOG4CPLUS_HAVE_TIME_H)
CHECK_INCLUDE_FILES(netdb.h LOG4CPLUS_HAVE_NETDB_H)
CHECK_INCLUDE_FILES(unistd.h LOG4CPLUS_HAVE_UNISTD_H)
CHECK_INCLUDE_FILES(errno.h LOG4CPLUS_HAVE_ERRNO_H)
CHECK_INCLUDE_FILES(stdarg.h LOG4CPLUS_HAVE_STDARG_H)
CHECK_INCLUDE_FILES(stdio.h LOG4CPLUS_HAVE_STDIO_H)
CHECK_INCLUDE_FILES(wchar.h LOG4CPLUS_HAVE_WCHAR_H)
CHECK_FUNCTION_EXISTS(ftime LOG4CPLUS_HAVE_FTIME)
CHECK_FUNCTION_EXISTS(getaddrinfo LOG4CPLUS_HAVE_GETADDRINFO)
CHECK_FUNCTION_EXISTS(gethostbyname LOG4CPLUS_HAVE_GETHOSTBYNAME_R)
CHECK_FUNCTION_EXISTS(getpid LOG4CPLUS_HAVE_GETPID)
CHECK_FUNCTION_EXISTS(gettimeofday LOG4CPLUS_HAVE_GETTIMEOFDAY)
CHECK_FUNCTION_EXISTS(gmtime_r LOG4CPLUS_HAVE_GMTIME_R)
CHECK_FUNCTION_EXISTS(htonl LOG4CPLUS_HAVE_HTONL)
CHECK_FUNCTION_EXISTS(htons LOG4CPLUS_HAVE_HTONS)
CHECK_FUNCTION_EXISTS(localtime LOG4CPLUS_HAVE_LOCALTIME_R)
CHECK_FUNCTION_EXISTS(lstat LOG4CPLUS_HAVE_LSTAT)
CHECK_FUNCTION_EXISTS(ntohl LOG4CPLUS_HAVE_NTOHL)
CHECK_FUNCTION_EXISTS(ntohs LOG4CPLUS_HAVE_NTOHS)
CHECK_FUNCTION_EXISTS(stat LOG4CPLUS_HAVE_STAT)
CHECK_FUNCTION_EXISTS(clock_gettime LOG4CPLUS_HAVE_CLOCK_GETTIME)

IF(UNIX)
  SET(LOG4CPLUS_DECLSPEC_EXPORT "__attribute__ ((visibility(\"default\")))")
  SET(LOG4CPLUS_DECLSPEC_IMPORT "/**/")
ENDIF(UNIX)

configure_file(${CMAKE_SOURCE_DIR}/include/log4cplus/config/defines.h.cmake ${CMAKE_BINARY_DIR}/include/log4cplus/config/defines.hxx)